/* esm.sh - esbuild bundle(ts-mixer@6.0.0) deno production */
var x=(e,t,r=[])=>{let o=Object.getOwnPropertyDescriptors(t);for(let n of r)delete o[n];Object.defineProperties(e,o)},u=(e,t=[e])=>{let r=Object.getPrototypeOf(e);return r===null?t:u(r,[...t,r])},F=(...e)=>{if(e.length===0)return;let t,r=e.map(o=>u(o));for(;r.every(o=>o.length>0);){let o=r.map(s=>s.pop()),n=o[0];if(o.every(s=>s===n))t=n;else break}return t},P=(e,t,r=[])=>{var o;let n=(o=F(...e))!==null&&o!==void 0?o:Object.prototype,s=Object.create(n),c=u(n);for(let a of e){let i=u(a);for(let l=i.length-1;l>=0;l--){let p=i[l];c.indexOf(p)===-1&&(x(s,p,["constructor",...r]),c.push(p))}}return s.constructor=t,s},y=e=>e.filter((t,r)=>e.indexOf(t)==r),v=(e,t)=>{let r=t.map(s=>u(s)),o=0,n=!0;for(;n;){n=!1;for(let s=t.length-1;s>=0;s--){let c=r[s][o];if(c!=null&&(n=!0,Object.getOwnPropertyDescriptor(c,e)!=null))return r[s][0]}o++}},b=(e,t=Object.prototype)=>new Proxy({},{getPrototypeOf(){return t},setPrototypeOf(){throw Error("Cannot set prototype of Proxies created by ts-mixer")},getOwnPropertyDescriptor(r,o){return Object.getOwnPropertyDescriptor(v(o,e)||{},o)},defineProperty(){throw new Error("Cannot define new properties on Proxies created by ts-mixer")},has(r,o){return v(o,e)!==void 0||t[o]!==void 0},get(r,o){return(v(o,e)||t)[o]},set(r,o,n){let s=v(o,e);if(s===void 0)throw new Error("Cannot set new properties on Proxies created by ts-mixer");return s[o]=n,!0},deleteProperty(){throw new Error("Cannot delete properties on Proxies created by ts-mixer")},ownKeys(){return e.map(Object.getOwnPropertyNames).reduce((r,o)=>o.concat(r.filter(n=>o.indexOf(n)<0)))}}),M=(e,t)=>b([...e,{constructor:t}]),f={initFunction:null,staticsStrategy:"copy",prototypeStrategy:"copy",decoratorInheritance:"deep"},m=new Map,S=e=>m.get(e),j=(e,t)=>m.set(e,t),z=(e,t)=>{if(e instanceof t)return!0;let r=e.constructor,o=new Set,n=new Set;for(n.add(r);n.size>0;){if(n.has(t))return!0;n.forEach(c=>o.add(c));let s=new Set;n.forEach(c=>{var a;let i=(a=m.get(c))!==null&&a!==void 0?a:u(c.prototype).map(l=>l.constructor).filter(l=>l!==null);i&&i.forEach(l=>{!o.has(l)&&!n.has(l)&&s.add(l)})}),n=s}return!1},O=(e,t)=>{var r,o;let n=y([...Object.getOwnPropertyNames(e),...Object.getOwnPropertyNames(t)]),s={};for(let c of n)s[c]=y([...(r=e?.[c])!==null&&r!==void 0?r:[],...(o=t?.[c])!==null&&o!==void 0?o:[]]);return s},g=(e,t)=>{var r,o,n,s;return{property:O((r=e?.property)!==null&&r!==void 0?r:{},(o=t?.property)!==null&&o!==void 0?o:{}),method:O((n=e?.method)!==null&&n!==void 0?n:{},(s=t?.method)!==null&&s!==void 0?s:{})}},_=(e,t)=>{var r,o,n,s,c,a;return{class:y([...(r=e?.class)!==null&&r!==void 0?r:[],...(o=t?.class)!==null&&o!==void 0?o:[]]),static:g((n=e?.static)!==null&&n!==void 0?n:{},(s=t?.static)!==null&&s!==void 0?s:{}),instance:g((c=e?.instance)!==null&&c!==void 0?c:{},(a=t?.instance)!==null&&a!==void 0?a:{})}},h=new Map,T=(...e)=>{var t;let r=new Set,o=new Set([...e]);for(;o.size>0;)for(let n of o){let s=u(n.prototype).map(l=>l.constructor),c=(t=S(n))!==null&&t!==void 0?t:[],i=[...s,...c].filter(l=>!r.has(l));for(let l of i)o.add(l);r.add(n),o.delete(n)}return[...r]},E=(...e)=>{let t=T(...e).map(r=>h.get(r)).filter(r=>!!r);return t.length==0?{}:t.length==1?t[0]:t.reduce((r,o)=>_(r,o))},N=(...e)=>{let t=e.map(r=>w(r));return t.length===0?{}:t.length===1?t[1]:t.reduce((r,o)=>_(r,o))},w=e=>{let t=h.get(e);return t||(t={},h.set(e,t)),t},I=e=>t=>{let r=w(t),o=r.class;return o||(o=[],r.class=o),o.push(e),e(t)},A=e=>(t,r,...o)=>{let n=typeof t=="function"?"static":"instance",s=typeof t[r]=="function"?"method":"property",c=n==="static"?t:t.constructor,a=w(c),i=a?.[n];i||(i={},a[n]=i);let l=i?.[s];l||(l={},i[s]=l);let p=l?.[r];return p||(p=[],l[r]=p),p.push(e),e(t,r,...o)},W=e=>(...t)=>t.length===1?I(e)(t[0]):A(e)(...t);function K(...e){var t,r,o;let n=e.map(i=>i.prototype),s=f.initFunction;if(s!==null){let i=n.map(d=>d[s]).filter(d=>typeof d=="function"),l=function(...d){for(let D of i)D.apply(this,d)},p={[s]:l};n.push(p)}function c(...i){for(let l of e)x(this,new l(...i));s!==null&&typeof this[s]=="function"&&this[s].apply(this,i)}c.prototype=f.prototypeStrategy==="copy"?P(n,c):M(n,c),Object.setPrototypeOf(c,f.staticsStrategy==="copy"?P(e,null,["prototype"]):b(e,Function.prototype));let a=c;if(f.decoratorInheritance!=="none"){let i=f.decoratorInheritance==="deep"?E(...e):N(...e);for(let l of(t=i?.class)!==null&&t!==void 0?t:[])a=l(a);C((r=i?.static)!==null&&r!==void 0?r:{},a),C((o=i?.instance)!==null&&o!==void 0?o:{},a.prototype)}return j(a,e),a}var C=(e,t)=>{let r=e.property,o=e.method;if(r)for(let n in r)for(let s of r[n])s(t,n);if(o)for(let n in o)for(let s of o[n])s(t,n,Object.getOwnPropertyDescriptor(t,n))},k=(...e)=>t=>{let r=K(...e.concat([t]));return Object.defineProperty(r,"name",{value:t.name,writable:!1}),r};export{K as Mixin,W as decorate,z as hasMixin,k as mix,f as settings};
//# sourceMappingURL=ts-mixer.mjs.map