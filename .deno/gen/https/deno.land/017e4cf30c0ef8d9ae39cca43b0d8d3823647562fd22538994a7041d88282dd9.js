export const messageReactionRemove = async (gateway, d)=>{
    let channel = await gateway.client.channels.get(d.channel_id);
    if (channel === undefined) channel = await gateway.client.channels.fetch(d.channel_id);
    if (channel === undefined) return;
    let message = await channel.messages.get(d.message_id);
    if (message === undefined) {
        if (gateway.client.fetchUncachedReactions === true) {
            message = await channel.messages.fetch(d.message_id);
            if (message === undefined) return;
        } else return;
    }
    let user = await gateway.client.users.get(d.user_id);
    if (user === undefined) {
        if (gateway.client.fetchUncachedReactions === true) {
            user = await gateway.client.users.fetch(d.user_id);
            if (user === undefined) return;
        } else return;
    }
    const emojiID = d.emoji.id !== null ? d.emoji.id : d.emoji.name;
    const reaction = await message.reactions.get(emojiID);
    if (reaction === undefined) return;
    reaction.users._delete(d.user_id);
    gateway.client.emit('messageReactionRemove', reaction, user);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL2dhdGV3YXkvaGFuZGxlcnMvbWVzc2FnZVJlYWN0aW9uUmVtb3ZlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgR2F0ZXdheSwgR2F0ZXdheUV2ZW50SGFuZGxlciB9IGZyb20gJy4uL21vZC50cydcbmltcG9ydCB0eXBlIHsgTWVzc2FnZVJlYWN0aW9uUmVtb3ZlUGF5bG9hZCB9IGZyb20gJy4uLy4uL3R5cGVzL2dhdGV3YXkudHMnXG5pbXBvcnQgdHlwZSB7IFRleHRDaGFubmVsIH0gZnJvbSAnLi4vLi4vc3RydWN0dXJlcy90ZXh0Q2hhbm5lbC50cydcblxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VSZWFjdGlvblJlbW92ZTogR2F0ZXdheUV2ZW50SGFuZGxlciA9IGFzeW5jIChcbiAgZ2F0ZXdheTogR2F0ZXdheSxcbiAgZDogTWVzc2FnZVJlYWN0aW9uUmVtb3ZlUGF5bG9hZFxuKSA9PiB7XG4gIGxldCBjaGFubmVsID0gYXdhaXQgZ2F0ZXdheS5jbGllbnQuY2hhbm5lbHMuZ2V0PFRleHRDaGFubmVsPihkLmNoYW5uZWxfaWQpXG4gIGlmIChjaGFubmVsID09PSB1bmRlZmluZWQpXG4gICAgY2hhbm5lbCA9IGF3YWl0IGdhdGV3YXkuY2xpZW50LmNoYW5uZWxzLmZldGNoPFRleHRDaGFubmVsPihkLmNoYW5uZWxfaWQpXG4gIGlmIChjaGFubmVsID09PSB1bmRlZmluZWQpIHJldHVyblxuXG4gIGxldCBtZXNzYWdlID0gYXdhaXQgY2hhbm5lbC5tZXNzYWdlcy5nZXQoZC5tZXNzYWdlX2lkKVxuICBpZiAobWVzc2FnZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKGdhdGV3YXkuY2xpZW50LmZldGNoVW5jYWNoZWRSZWFjdGlvbnMgPT09IHRydWUpIHtcbiAgICAgIG1lc3NhZ2UgPSBhd2FpdCBjaGFubmVsLm1lc3NhZ2VzLmZldGNoKGQubWVzc2FnZV9pZClcbiAgICAgIGlmIChtZXNzYWdlID09PSB1bmRlZmluZWQpIHJldHVyblxuICAgIH0gZWxzZSByZXR1cm5cbiAgfVxuXG4gIGxldCB1c2VyID0gYXdhaXQgZ2F0ZXdheS5jbGllbnQudXNlcnMuZ2V0KGQudXNlcl9pZClcbiAgaWYgKHVzZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChnYXRld2F5LmNsaWVudC5mZXRjaFVuY2FjaGVkUmVhY3Rpb25zID09PSB0cnVlKSB7XG4gICAgICB1c2VyID0gYXdhaXQgZ2F0ZXdheS5jbGllbnQudXNlcnMuZmV0Y2goZC51c2VyX2lkKVxuICAgICAgaWYgKHVzZXIgPT09IHVuZGVmaW5lZCkgcmV0dXJuXG4gICAgfSBlbHNlIHJldHVyblxuICB9XG5cbiAgY29uc3QgZW1vamlJRCA9IChkLmVtb2ppLmlkICE9PSBudWxsID8gZC5lbW9qaS5pZCA6IGQuZW1vamkubmFtZSkgYXMgc3RyaW5nXG4gIGNvbnN0IHJlYWN0aW9uID0gYXdhaXQgbWVzc2FnZS5yZWFjdGlvbnMuZ2V0KGVtb2ppSUQpXG4gIGlmIChyZWFjdGlvbiA9PT0gdW5kZWZpbmVkKSByZXR1cm5cblxuICByZWFjdGlvbi51c2Vycy5fZGVsZXRlKGQudXNlcl9pZClcblxuICBnYXRld2F5LmNsaWVudC5lbWl0KCdtZXNzYWdlUmVhY3Rpb25SZW1vdmUnLCByZWFjdGlvbiwgdXNlcilcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxPQUFPLE1BQU0sd0JBQTZDLE9BQ3hELFNBQ0EsSUFDRztJQUNILElBQUksVUFBVSxNQUFNLFFBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQWMsRUFBRSxVQUFVO0lBQ3pFLElBQUksWUFBWSxXQUNkLFVBQVUsTUFBTSxRQUFRLE1BQU0sQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFjLEVBQUUsVUFBVTtJQUN6RSxJQUFJLFlBQVksV0FBVztJQUUzQixJQUFJLFVBQVUsTUFBTSxRQUFRLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxVQUFVO0lBQ3JELElBQUksWUFBWSxXQUFXO1FBQ3pCLElBQUksUUFBUSxNQUFNLENBQUMsc0JBQXNCLEtBQUssSUFBSSxFQUFFO1lBQ2xELFVBQVUsTUFBTSxRQUFRLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRSxVQUFVO1lBQ25ELElBQUksWUFBWSxXQUFXO1FBQzdCLE9BQU87SUFDVCxDQUFDO0lBRUQsSUFBSSxPQUFPLE1BQU0sUUFBUSxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLE9BQU87SUFDbkQsSUFBSSxTQUFTLFdBQVc7UUFDdEIsSUFBSSxRQUFRLE1BQU0sQ0FBQyxzQkFBc0IsS0FBSyxJQUFJLEVBQUU7WUFDbEQsT0FBTyxNQUFNLFFBQVEsTUFBTSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxPQUFPO1lBQ2pELElBQUksU0FBUyxXQUFXO1FBQzFCLE9BQU87SUFDVCxDQUFDO0lBRUQsTUFBTSxVQUFXLEVBQUUsS0FBSyxDQUFDLEVBQUUsS0FBSyxJQUFJLEdBQUcsRUFBRSxLQUFLLENBQUMsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLElBQUk7SUFDaEUsTUFBTSxXQUFXLE1BQU0sUUFBUSxTQUFTLENBQUMsR0FBRyxDQUFDO0lBQzdDLElBQUksYUFBYSxXQUFXO0lBRTVCLFNBQVMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxFQUFFLE9BQU87SUFFaEMsUUFBUSxNQUFNLENBQUMsSUFBSSxDQUFDLHlCQUF5QixVQUFVO0FBQ3pELEVBQUMifQ==