/**
 * Cache Manager used for Caching values related to Gateway connection
 *
 * In case of Redis, this will persistently cache session ID and seq for fast resumes.
 */ export class GatewayCache {
    client;
    cacheName = 'discord_gateway_cache';
    constructor(client, cacheName){
        this.client = client;
        if (cacheName !== undefined) this.cacheName = cacheName;
    }
    async get(key) {
        return this.client.cache.get(this.cacheName, key);
    }
    async set(key, value) {
        await this.client.cache.set(this.cacheName, key, value);
    }
    async delete(key) {
        const result = await this.client.cache.delete(this.cacheName, key);
        return result;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL21hbmFnZXJzL2dhdGV3YXlDYWNoZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENsaWVudCB9IGZyb20gJy4uL2NsaWVudC9tb2QudHMnXG5cbi8qKlxuICogQ2FjaGUgTWFuYWdlciB1c2VkIGZvciBDYWNoaW5nIHZhbHVlcyByZWxhdGVkIHRvIEdhdGV3YXkgY29ubmVjdGlvblxuICpcbiAqIEluIGNhc2Ugb2YgUmVkaXMsIHRoaXMgd2lsbCBwZXJzaXN0ZW50bHkgY2FjaGUgc2Vzc2lvbiBJRCBhbmQgc2VxIGZvciBmYXN0IHJlc3VtZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBHYXRld2F5Q2FjaGUge1xuICBjbGllbnQ6IENsaWVudFxuICBjYWNoZU5hbWU6IHN0cmluZyA9ICdkaXNjb3JkX2dhdGV3YXlfY2FjaGUnXG5cbiAgY29uc3RydWN0b3IoY2xpZW50OiBDbGllbnQsIGNhY2hlTmFtZT86IHN0cmluZykge1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50XG4gICAgaWYgKGNhY2hlTmFtZSAhPT0gdW5kZWZpbmVkKSB0aGlzLmNhY2hlTmFtZSA9IGNhY2hlTmFtZVxuICB9XG5cbiAgYXN5bmMgZ2V0PFQ+KGtleTogc3RyaW5nKTogUHJvbWlzZTx1bmRlZmluZWQgfCBUPiB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50LmNhY2hlLmdldDxUPih0aGlzLmNhY2hlTmFtZSwga2V5KVxuICB9XG5cbiAgYXN5bmMgc2V0PFQ+KGtleTogc3RyaW5nLCB2YWx1ZTogVCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGF3YWl0IHRoaXMuY2xpZW50LmNhY2hlLnNldCh0aGlzLmNhY2hlTmFtZSwga2V5LCB2YWx1ZSlcbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZShrZXk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuY2xpZW50LmNhY2hlLmRlbGV0ZSh0aGlzLmNhY2hlTmFtZSwga2V5KVxuICAgIHJldHVybiByZXN1bHRcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBOzs7O0NBSUMsR0FDRCxPQUFPLE1BQU07SUFDWCxPQUFjO0lBQ2QsWUFBb0Isd0JBQXVCO0lBRTNDLFlBQVksTUFBYyxFQUFFLFNBQWtCLENBQUU7UUFDOUMsSUFBSSxDQUFDLE1BQU0sR0FBRztRQUNkLElBQUksY0FBYyxXQUFXLElBQUksQ0FBQyxTQUFTLEdBQUc7SUFDaEQ7SUFFQSxNQUFNLElBQU8sR0FBVyxFQUEwQjtRQUNoRCxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBSSxJQUFJLENBQUMsU0FBUyxFQUFFO0lBQ2xEO0lBRUEsTUFBTSxJQUFPLEdBQVcsRUFBRSxLQUFRLEVBQWlCO1FBQ2pELE1BQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsS0FBSztJQUNuRDtJQUVBLE1BQU0sT0FBTyxHQUFXLEVBQW9CO1FBQzFDLE1BQU0sU0FBUyxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFO1FBQzlELE9BQU87SUFDVDtBQUNGLENBQUMifQ==