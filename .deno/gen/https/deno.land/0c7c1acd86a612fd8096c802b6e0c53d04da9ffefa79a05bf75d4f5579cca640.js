export const channelPinsUpdate = async (gateway, d)=>{
    const before = await gateway.client.channels.get(d.channel_id);
    if (before !== undefined) {
        const raw = await gateway.client.channels._get(d.channel_id);
        if (raw === undefined) return;
        await gateway.client.channels.set(raw.id, Object.assign(raw, {
            last_pin_timestamp: d.last_pin_timestamp
        }));
        const after = await gateway.client.channels.get(d.channel_id);
        gateway.client.emit('channelPinsUpdate', before, after);
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL2dhdGV3YXkvaGFuZGxlcnMvY2hhbm5lbFBpbnNVcGRhdGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBHYXRld2F5LCBHYXRld2F5RXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vbW9kLnRzJ1xuaW1wb3J0IHR5cGUgeyBUZXh0Q2hhbm5lbCB9IGZyb20gJy4uLy4uL3N0cnVjdHVyZXMvdGV4dENoYW5uZWwudHMnXG5pbXBvcnQgdHlwZSB7IENoYW5uZWxQaW5zVXBkYXRlUGF5bG9hZCB9IGZyb20gJy4uLy4uL3R5cGVzL2dhdGV3YXkudHMnXG5cbmV4cG9ydCBjb25zdCBjaGFubmVsUGluc1VwZGF0ZTogR2F0ZXdheUV2ZW50SGFuZGxlciA9IGFzeW5jIChcbiAgZ2F0ZXdheTogR2F0ZXdheSxcbiAgZDogQ2hhbm5lbFBpbnNVcGRhdGVQYXlsb2FkXG4pID0+IHtcbiAgY29uc3QgYmVmb3JlOiBUZXh0Q2hhbm5lbCB8IHVuZGVmaW5lZCA9XG4gICAgYXdhaXQgZ2F0ZXdheS5jbGllbnQuY2hhbm5lbHMuZ2V0PFRleHRDaGFubmVsPihkLmNoYW5uZWxfaWQpXG5cbiAgaWYgKGJlZm9yZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmF3ID0gYXdhaXQgZ2F0ZXdheS5jbGllbnQuY2hhbm5lbHMuX2dldChkLmNoYW5uZWxfaWQpXG4gICAgaWYgKHJhdyA9PT0gdW5kZWZpbmVkKSByZXR1cm5cbiAgICBhd2FpdCBnYXRld2F5LmNsaWVudC5jaGFubmVscy5zZXQoXG4gICAgICByYXcuaWQsXG4gICAgICBPYmplY3QuYXNzaWduKHJhdywgeyBsYXN0X3Bpbl90aW1lc3RhbXA6IGQubGFzdF9waW5fdGltZXN0YW1wIH0pXG4gICAgKVxuICAgIGNvbnN0IGFmdGVyID0gKGF3YWl0IGdhdGV3YXkuY2xpZW50LmNoYW5uZWxzLmdldChcbiAgICAgIGQuY2hhbm5lbF9pZFxuICAgICkpIGFzIHVua25vd24gYXMgVGV4dENoYW5uZWxcbiAgICBnYXRld2F5LmNsaWVudC5lbWl0KCdjaGFubmVsUGluc1VwZGF0ZScsIGJlZm9yZSwgYWZ0ZXIpXG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxPQUFPLE1BQU0sb0JBQXlDLE9BQ3BELFNBQ0EsSUFDRztJQUNILE1BQU0sU0FDSixNQUFNLFFBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQWMsRUFBRSxVQUFVO0lBRTdELElBQUksV0FBVyxXQUFXO1FBQ3hCLE1BQU0sTUFBTSxNQUFNLFFBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxVQUFVO1FBQzNELElBQUksUUFBUSxXQUFXO1FBQ3ZCLE1BQU0sUUFBUSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FDL0IsSUFBSSxFQUFFLEVBQ04sT0FBTyxNQUFNLENBQUMsS0FBSztZQUFFLG9CQUFvQixFQUFFLGtCQUFrQjtRQUFDO1FBRWhFLE1BQU0sUUFBUyxNQUFNLFFBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQzlDLEVBQUUsVUFBVTtRQUVkLFFBQVEsTUFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsUUFBUTtJQUNuRCxDQUFDO0FBQ0gsRUFBQyJ9