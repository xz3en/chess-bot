export const channelUpdate = async (gateway, d)=>{
    const oldChannel = await gateway.client.channels.get(d.id);
    await gateway.client.channels.set(d.id, d);
    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
    const newChannel = await gateway.client.channels.get(d.id);
    if (oldChannel !== undefined) {
        // (DjDeveloperr): Already done by ChannelsManager. I'll recheck later
        // if ('guild_id' in d) {
        //   // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
        //   (newChannel as GuildChannel).guild = await gateway.client.guilds.get((d as GuildChannelPayload).guild_id) as Guild
        // }
        gateway.client.emit('channelUpdate', oldChannel, newChannel);
    } else gateway.client.emit('channelUpdateUncached', newChannel);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL2dhdGV3YXkvaGFuZGxlcnMvY2hhbm5lbFVwZGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IENoYW5uZWwgfSBmcm9tICcuLi8uLi9zdHJ1Y3R1cmVzL2NoYW5uZWwudHMnXG5pbXBvcnQgdHlwZSB7IENoYW5uZWxQYXlsb2FkIH0gZnJvbSAnLi4vLi4vdHlwZXMvY2hhbm5lbC50cydcbmltcG9ydCB0eXBlIHsgR2F0ZXdheSwgR2F0ZXdheUV2ZW50SGFuZGxlciB9IGZyb20gJy4uL21vZC50cydcblxuZXhwb3J0IGNvbnN0IGNoYW5uZWxVcGRhdGU6IEdhdGV3YXlFdmVudEhhbmRsZXIgPSBhc3luYyAoXG4gIGdhdGV3YXk6IEdhdGV3YXksXG4gIGQ6IENoYW5uZWxQYXlsb2FkXG4pID0+IHtcbiAgY29uc3Qgb2xkQ2hhbm5lbCA9IGF3YWl0IGdhdGV3YXkuY2xpZW50LmNoYW5uZWxzLmdldChkLmlkKVxuICBhd2FpdCBnYXRld2F5LmNsaWVudC5jaGFubmVscy5zZXQoZC5pZCwgZClcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICBjb25zdCBuZXdDaGFubmVsID0gKGF3YWl0IGdhdGV3YXkuY2xpZW50LmNoYW5uZWxzLmdldChkLmlkKSkgYXMgQ2hhbm5lbFxuXG4gIGlmIChvbGRDaGFubmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyAoRGpEZXZlbG9wZXJyKTogQWxyZWFkeSBkb25lIGJ5IENoYW5uZWxzTWFuYWdlci4gSSdsbCByZWNoZWNrIGxhdGVyXG4gICAgLy8gaWYgKCdndWlsZF9pZCcgaW4gZCkge1xuICAgIC8vICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICAgIC8vICAgKG5ld0NoYW5uZWwgYXMgR3VpbGRDaGFubmVsKS5ndWlsZCA9IGF3YWl0IGdhdGV3YXkuY2xpZW50Lmd1aWxkcy5nZXQoKGQgYXMgR3VpbGRDaGFubmVsUGF5bG9hZCkuZ3VpbGRfaWQpIGFzIEd1aWxkXG4gICAgLy8gfVxuICAgIGdhdGV3YXkuY2xpZW50LmVtaXQoJ2NoYW5uZWxVcGRhdGUnLCBvbGRDaGFubmVsLCBuZXdDaGFubmVsKVxuICB9IGVsc2UgZ2F0ZXdheS5jbGllbnQuZW1pdCgnY2hhbm5lbFVwZGF0ZVVuY2FjaGVkJywgbmV3Q2hhbm5lbClcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQSxPQUFPLE1BQU0sZ0JBQXFDLE9BQ2hELFNBQ0EsSUFDRztJQUNILE1BQU0sYUFBYSxNQUFNLFFBQVEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFO0lBQ3pELE1BQU0sUUFBUSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUN4Qyw0RUFBNEU7SUFDNUUsTUFBTSxhQUFjLE1BQU0sUUFBUSxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7SUFFMUQsSUFBSSxlQUFlLFdBQVc7UUFDNUIsc0VBQXNFO1FBQ3RFLHlCQUF5QjtRQUN6QixpRkFBaUY7UUFDakYsdUhBQXVIO1FBQ3ZILElBQUk7UUFDSixRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMsaUJBQWlCLFlBQVk7SUFDbkQsT0FBTyxRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMseUJBQXlCO0FBQ3RELEVBQUMifQ==