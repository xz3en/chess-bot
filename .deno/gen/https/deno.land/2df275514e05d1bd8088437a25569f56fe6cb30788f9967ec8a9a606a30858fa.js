export const userUpdate = async (gateway, d)=>{
    const oldUser = await gateway.client.users.get(d.id);
    await gateway.client.users.set(d.id, d);
    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
    const newUser = await gateway.client.users.get(d.id);
    if (oldUser !== undefined) {
        gateway.client.emit('userUpdate', oldUser, newUser);
    } else gateway.client.emit('userUpdateUncached', newUser);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL2dhdGV3YXkvaGFuZGxlcnMvdXNlclVwZGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IFVzZXIgfSBmcm9tICcuLi8uLi9zdHJ1Y3R1cmVzL3VzZXIudHMnXG5pbXBvcnQgdHlwZSB7IFVzZXJQYXlsb2FkIH0gZnJvbSAnLi4vLi4vdHlwZXMvdXNlci50cydcbmltcG9ydCB0eXBlIHsgR2F0ZXdheSwgR2F0ZXdheUV2ZW50SGFuZGxlciB9IGZyb20gJy4uL21vZC50cydcblxuZXhwb3J0IGNvbnN0IHVzZXJVcGRhdGU6IEdhdGV3YXlFdmVudEhhbmRsZXIgPSBhc3luYyAoXG4gIGdhdGV3YXk6IEdhdGV3YXksXG4gIGQ6IFVzZXJQYXlsb2FkXG4pID0+IHtcbiAgY29uc3Qgb2xkVXNlcjogVXNlciB8IHVuZGVmaW5lZCA9IGF3YWl0IGdhdGV3YXkuY2xpZW50LnVzZXJzLmdldChkLmlkKVxuICBhd2FpdCBnYXRld2F5LmNsaWVudC51c2Vycy5zZXQoZC5pZCwgZClcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bm5lY2Vzc2FyeS10eXBlLWFzc2VydGlvblxuICBjb25zdCBuZXdVc2VyID0gKGF3YWl0IGdhdGV3YXkuY2xpZW50LnVzZXJzLmdldChkLmlkKSkgYXMgVXNlclxuXG4gIGlmIChvbGRVc2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICBnYXRld2F5LmNsaWVudC5lbWl0KCd1c2VyVXBkYXRlJywgb2xkVXNlciwgbmV3VXNlcilcbiAgfSBlbHNlIGdhdGV3YXkuY2xpZW50LmVtaXQoJ3VzZXJVcGRhdGVVbmNhY2hlZCcsIG5ld1VzZXIpXG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsT0FBTyxNQUFNLGFBQWtDLE9BQzdDLFNBQ0EsSUFDRztJQUNILE1BQU0sVUFBNEIsTUFBTSxRQUFRLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRTtJQUNyRSxNQUFNLFFBQVEsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLEVBQUU7SUFDckMsNEVBQTRFO0lBQzVFLE1BQU0sVUFBVyxNQUFNLFFBQVEsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFO0lBRXBELElBQUksWUFBWSxXQUFXO1FBQ3pCLFFBQVEsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLFNBQVM7SUFDN0MsT0FBTyxRQUFRLE1BQU0sQ0FBQyxJQUFJLENBQUMsc0JBQXNCO0FBQ25ELEVBQUMifQ==