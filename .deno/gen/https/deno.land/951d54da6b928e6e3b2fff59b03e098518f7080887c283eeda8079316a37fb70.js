import { Member } from '../../structures/member.ts';
// TODO: Do we need to add uncached events here?
export const typingStart = async (gateway, d)=>{
    const user = await gateway.client.users.get(d.user_id);
    if (user === undefined) return;
    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion
    const channel = await gateway.client.channels.get(d.channel_id);
    if (channel === undefined) return;
    const guild = d.guild_id !== undefined ? await gateway.client.guilds.get(d.guild_id) : undefined;
    if (guild === undefined && d.guild_id !== undefined) return;
    const member = d.member !== undefined && guild !== undefined ? new Member(gateway.client, d.member, user, guild) : undefined;
    gateway.client.emit('typingStart', user, channel, new Date(d.timestamp), guild !== undefined && member !== undefined ? {
        guild,
        member
    } : undefined);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL2dhdGV3YXkvaGFuZGxlcnMvdHlwaW5nU3RhcnQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVtYmVyIH0gZnJvbSAnLi4vLi4vc3RydWN0dXJlcy9tZW1iZXIudHMnXG5pbXBvcnQgdHlwZSB7IFRleHRDaGFubmVsIH0gZnJvbSAnLi4vLi4vc3RydWN0dXJlcy90ZXh0Q2hhbm5lbC50cydcbmltcG9ydCB0eXBlIHsgVHlwaW5nU3RhcnRQYXlsb2FkIH0gZnJvbSAnLi4vLi4vdHlwZXMvZ2F0ZXdheS50cydcbmltcG9ydCB0eXBlIHsgR2F0ZXdheSwgR2F0ZXdheUV2ZW50SGFuZGxlciB9IGZyb20gJy4uL21vZC50cydcblxuLy8gVE9ETzogRG8gd2UgbmVlZCB0byBhZGQgdW5jYWNoZWQgZXZlbnRzIGhlcmU/XG5leHBvcnQgY29uc3QgdHlwaW5nU3RhcnQ6IEdhdGV3YXlFdmVudEhhbmRsZXIgPSBhc3luYyAoXG4gIGdhdGV3YXk6IEdhdGV3YXksXG4gIGQ6IFR5cGluZ1N0YXJ0UGF5bG9hZFxuKSA9PiB7XG4gIGNvbnN0IHVzZXIgPSBhd2FpdCBnYXRld2F5LmNsaWVudC51c2Vycy5nZXQoZC51c2VyX2lkKVxuICBpZiAodXNlciA9PT0gdW5kZWZpbmVkKSByZXR1cm5cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVubmVjZXNzYXJ5LXR5cGUtYXNzZXJ0aW9uXG4gIGNvbnN0IGNoYW5uZWwgPSAoYXdhaXQgZ2F0ZXdheS5jbGllbnQuY2hhbm5lbHMuZ2V0KFxuICAgIGQuY2hhbm5lbF9pZFxuICApKSBhcyBUZXh0Q2hhbm5lbFxuICBpZiAoY2hhbm5lbCA9PT0gdW5kZWZpbmVkKSByZXR1cm5cblxuICBjb25zdCBndWlsZCA9XG4gICAgZC5ndWlsZF9pZCAhPT0gdW5kZWZpbmVkXG4gICAgICA/IGF3YWl0IGdhdGV3YXkuY2xpZW50Lmd1aWxkcy5nZXQoZC5ndWlsZF9pZClcbiAgICAgIDogdW5kZWZpbmVkXG4gIGlmIChndWlsZCA9PT0gdW5kZWZpbmVkICYmIGQuZ3VpbGRfaWQgIT09IHVuZGVmaW5lZCkgcmV0dXJuXG5cbiAgY29uc3QgbWVtYmVyID1cbiAgICBkLm1lbWJlciAhPT0gdW5kZWZpbmVkICYmIGd1aWxkICE9PSB1bmRlZmluZWRcbiAgICAgID8gbmV3IE1lbWJlcihnYXRld2F5LmNsaWVudCwgZC5tZW1iZXIsIHVzZXIsIGd1aWxkKVxuICAgICAgOiB1bmRlZmluZWRcblxuICBnYXRld2F5LmNsaWVudC5lbWl0KFxuICAgICd0eXBpbmdTdGFydCcsXG4gICAgdXNlcixcbiAgICBjaGFubmVsLFxuICAgIG5ldyBEYXRlKGQudGltZXN0YW1wKSxcbiAgICBndWlsZCAhPT0gdW5kZWZpbmVkICYmIG1lbWJlciAhPT0gdW5kZWZpbmVkID8geyBndWlsZCwgbWVtYmVyIH0gOiB1bmRlZmluZWRcbiAgKVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsTUFBTSxRQUFRLDZCQUE0QjtBQUtuRCxnREFBZ0Q7QUFDaEQsT0FBTyxNQUFNLGNBQW1DLE9BQzlDLFNBQ0EsSUFDRztJQUNILE1BQU0sT0FBTyxNQUFNLFFBQVEsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsRUFBRSxPQUFPO0lBQ3JELElBQUksU0FBUyxXQUFXO0lBRXhCLDRFQUE0RTtJQUM1RSxNQUFNLFVBQVcsTUFBTSxRQUFRLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUNoRCxFQUFFLFVBQVU7SUFFZCxJQUFJLFlBQVksV0FBVztJQUUzQixNQUFNLFFBQ0osRUFBRSxRQUFRLEtBQUssWUFDWCxNQUFNLFFBQVEsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxRQUFRLElBQzFDLFNBQVM7SUFDZixJQUFJLFVBQVUsYUFBYSxFQUFFLFFBQVEsS0FBSyxXQUFXO0lBRXJELE1BQU0sU0FDSixFQUFFLE1BQU0sS0FBSyxhQUFhLFVBQVUsWUFDaEMsSUFBSSxPQUFPLFFBQVEsTUFBTSxFQUFFLEVBQUUsTUFBTSxFQUFFLE1BQU0sU0FDM0MsU0FBUztJQUVmLFFBQVEsTUFBTSxDQUFDLElBQUksQ0FDakIsZUFDQSxNQUNBLFNBQ0EsSUFBSSxLQUFLLEVBQUUsU0FBUyxHQUNwQixVQUFVLGFBQWEsV0FBVyxZQUFZO1FBQUU7UUFBTztJQUFPLElBQUksU0FBUztBQUUvRSxFQUFDIn0=