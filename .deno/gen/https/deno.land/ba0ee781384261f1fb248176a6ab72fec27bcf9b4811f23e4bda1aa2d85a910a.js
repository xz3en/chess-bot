export const messageUpdate = async (gateway, d)=>{
    const channel = await gateway.client.channels.get(d.channel_id);
    // if (channel === undefined)
    //   channel = await gateway.client.channels.fetch(d.channel_id)
    if (channel === undefined) return;
    const message = await channel.messages.get(d.id);
    if (message === undefined) return;
    const raw = await channel.messages._get(d.id);
    if (raw === undefined) return;
    const newRaw = raw;
    Object.assign(newRaw, d);
    await channel.messages.set(d.id, newRaw);
    const newMsg = await channel.messages.get(d.id);
    gateway.client.emit('messageUpdate', message, newMsg);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvaGFybW9ueUB2Mi45LjAvc3JjL2dhdGV3YXkvaGFuZGxlcnMvbWVzc2FnZVVwZGF0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE1lc3NhZ2UgfSBmcm9tICcuLi8uLi9zdHJ1Y3R1cmVzL21lc3NhZ2UudHMnXG5pbXBvcnQgdHlwZSB7IFRleHRDaGFubmVsIH0gZnJvbSAnLi4vLi4vc3RydWN0dXJlcy90ZXh0Q2hhbm5lbC50cydcbmltcG9ydCB0eXBlIHsgTWVzc2FnZVBheWxvYWQgfSBmcm9tICcuLi8uLi90eXBlcy9jaGFubmVsLnRzJ1xuaW1wb3J0IHR5cGUgeyBHYXRld2F5LCBHYXRld2F5RXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vbW9kLnRzJ1xuXG5leHBvcnQgY29uc3QgbWVzc2FnZVVwZGF0ZTogR2F0ZXdheUV2ZW50SGFuZGxlciA9IGFzeW5jIChcbiAgZ2F0ZXdheTogR2F0ZXdheSxcbiAgZDogTWVzc2FnZVBheWxvYWRcbikgPT4ge1xuICBjb25zdCBjaGFubmVsID0gYXdhaXQgZ2F0ZXdheS5jbGllbnQuY2hhbm5lbHMuZ2V0PFRleHRDaGFubmVsPihkLmNoYW5uZWxfaWQpXG4gIC8vIGlmIChjaGFubmVsID09PSB1bmRlZmluZWQpXG4gIC8vICAgY2hhbm5lbCA9IGF3YWl0IGdhdGV3YXkuY2xpZW50LmNoYW5uZWxzLmZldGNoKGQuY2hhbm5lbF9pZClcblxuICBpZiAoY2hhbm5lbCA9PT0gdW5kZWZpbmVkKSByZXR1cm5cblxuICBjb25zdCBtZXNzYWdlID0gYXdhaXQgY2hhbm5lbC5tZXNzYWdlcy5nZXQoZC5pZClcbiAgaWYgKG1lc3NhZ2UgPT09IHVuZGVmaW5lZCkgcmV0dXJuXG4gIGNvbnN0IHJhdyA9IGF3YWl0IGNoYW5uZWwubWVzc2FnZXMuX2dldChkLmlkKVxuICBpZiAocmF3ID09PSB1bmRlZmluZWQpIHJldHVyblxuXG4gIGNvbnN0IG5ld1JhdyA9IHJhd1xuICBPYmplY3QuYXNzaWduKG5ld1JhdywgZClcbiAgYXdhaXQgY2hhbm5lbC5tZXNzYWdlcy5zZXQoZC5pZCwgbmV3UmF3KVxuXG4gIGNvbnN0IG5ld01zZyA9IChhd2FpdCBjaGFubmVsLm1lc3NhZ2VzLmdldChkLmlkKSkgYXMgdW5rbm93biBhcyBNZXNzYWdlXG4gIGdhdGV3YXkuY2xpZW50LmVtaXQoJ21lc3NhZ2VVcGRhdGUnLCBtZXNzYWdlLCBuZXdNc2cpXG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBS0EsT0FBTyxNQUFNLGdCQUFxQyxPQUNoRCxTQUNBLElBQ0c7SUFDSCxNQUFNLFVBQVUsTUFBTSxRQUFRLE1BQU0sQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFjLEVBQUUsVUFBVTtJQUMzRSw2QkFBNkI7SUFDN0IsZ0VBQWdFO0lBRWhFLElBQUksWUFBWSxXQUFXO0lBRTNCLE1BQU0sVUFBVSxNQUFNLFFBQVEsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7SUFDL0MsSUFBSSxZQUFZLFdBQVc7SUFDM0IsTUFBTSxNQUFNLE1BQU0sUUFBUSxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRTtJQUM1QyxJQUFJLFFBQVEsV0FBVztJQUV2QixNQUFNLFNBQVM7SUFDZixPQUFPLE1BQU0sQ0FBQyxRQUFRO0lBQ3RCLE1BQU0sUUFBUSxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxFQUFFO0lBRWpDLE1BQU0sU0FBVSxNQUFNLFFBQVEsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUU7SUFDL0MsUUFBUSxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixTQUFTO0FBQ2hELEVBQUMifQ==